# atmaCup11 18ä½/614ãƒãƒ¼ãƒ  è§£æ³•ãƒ»ãµã‚Šã‹ãˆã‚Š
###### tags: `compe`

https://www.guruguru.science/competitions/17/discussions/bc7672a8-b015-494e-9105-ce4102735cbe/

## è‡ªå·±ç´¹ä»‹
ã¯ã˜ã‚ã¾ã—ã¦â„•ã¨ç”³ã—ã¾ã™ã€‚ékagglerã§ã™ã€‚AtCoderæ°´è‰²ã§ã™ã€‚å¤§å­¦é™¢ç”Ÿã§ã™ã€‚

Twitter [@mathbbN](https://twitter.com/mathbbN) ã‚„ã£ã¦ã„ã¾ã™ã€‚ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚

ã‚³ãƒ³ãƒšå‚åŠ ã®çµŒé¨“ã¯â†“ã®1å›ã ã‘ã§ã™ã€‚

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">Dç¤¾ã•ã‚“ã‹ã‚‰è³çŠ¶ã¨è³é‡‘ã€ãƒ“ãƒ¼ãƒ«ãŒè´ˆã‚‰ã‚Œã¦ããŸã€‚(ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™) <a href="https://t.co/wvsyD0Cur6">pic.twitter.com/wvsyD0Cur6</a></p>&mdash; â„• (@mathbbN) <a href="https://twitter.com/mathbbN/status/1339760077658443776?ref_src=twsrc%5Etfw">December 18, 2020</a></blockquote>

![](https://i.imgur.com/vbP6qDo.jpg)

ç”»åƒç”Ÿæˆã®ç ”ç©¶ã‚’ã—ã¦ã„ã‚‹ã“ã¨ãŒã€å¤šå°‘ã€æœ‰åˆ©ã«åƒã„ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">å­¦ç¿’æ™‚ã«ãƒ’ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ä¸ãˆã™ãã¦ã¦ç·šç”»ã‹ã‚‰èªè­˜ã—ãŸé ˜åŸŸã‚’é‡è¦–ã—ã¦ãªã„å‚¾å‘ã«ã‚ã£ãŸã®ã§ï¼ä¸ãˆã‚‹ç¢ºç‡ã‚’1/4ã«ã—ãŸã‚‰æœã‚„é«ªã§åˆ¥ã®è‰²æŒ‡å®šã—ã¦ã‚‚ç ´ç¶»ã—ãªããªã£ãŸï¼ï¿½ï¿½ <a href="https://t.co/KGKFQSDKYW">pic.twitter.com/KGKFQSDKYW</a></p>&mdash; â„• (@mathbbN) <a href="https://twitter.com/mathbbN/status/1256863572727959553?ref_src=twsrc%5Etfw">May 3, 2020</a></blockquote>

![](https://i.imgur.com/sHdrsfG.png)

## 18ä½è§£æ³•

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">ã€18ä½è§£æ³•ã€‘Pretext taskã¨ã—ã¦ResNet34ã‚’3x3ã‚¸ã‚°ã‚½ãƒ¼ãƒ‘ã‚ºãƒ«ã‚’è§£ã‹ã›ãŸå¾Œã«ã€è»¢ç§»å­¦ç¿’ã‚’targetã€onehotã€sorting_dateã€word2vecã®åŸ‹ã‚è¾¼ã¿ã®4ã‚¿ã‚¹ã‚¯é©ç”¨ã—ã€å¾—ã‚‰ã‚ŒãŸç‰¹å¾´é‡ã‚’å‹¾é…ãƒ–ãƒ¼ã‚¹ãƒ†ã‚£ãƒ³ã‚°æœ¨ã§ã‚¹ã‚¿ãƒƒã‚­ãƒ³ã‚°ã€ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ã¦subã—ã¾ã—ãŸã€‚<a href="https://twitter.com/hashtag/atmaCup?src=hash&amp;ref_src=twsrc%5Etfw">#atmaCup</a></p>&mdash; â„• (@mathbbN) <a href="https://twitter.com/mathbbN/status/1418143919628423171?ref_src=twsrc%5Etfw">July 22, 2021</a></blockquote> 

## å†ç¾å®Ÿé¨“ç”¨ã®ãƒªãƒ³ã‚¯(GitHub)

| ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ãƒªãƒã‚¸ãƒˆãƒª | [**https://github.com/nat-chan/atmaCup11**](https://github.com/nat-chan/atmaCup11) |
| -------- | -------- |

### ãƒ¢ãƒ‡ãƒ«é‡ã¿ã‚„å‰å‡¦ç†ç”»åƒã®ãƒªãƒ³ã‚¯

| DLãƒªãƒ³ã‚¯ | size | å«ã¾ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ« | 
| ---- | ---- | ---- |
| [**atma11_deleteweights.zip**](https://www.kde.cs.tsukuba.ac.jp/~natsuki/atma11_deleteweights.zip) | 40M | ğŸ—¹ç‰¹å¾´é‡<br>â˜ãƒ¢ãƒ‡ãƒ«é‡ã¿<br>â˜å‰å‡¦ç†æ¸ˆã¿ç”»åƒ |
| [**atma11_deleteimages.zip**](https://www.kde.cs.tsukuba.ac.jp/~natsuki/atma11_deleteimages.zip) | 49G | ğŸ—¹ç‰¹å¾´é‡<br>ğŸ—¹ãƒ¢ãƒ‡ãƒ«é‡ã¿<br>â˜å‰å‡¦ç†æ¸ˆã¿ç”»åƒ |

å‰å‡¦ç†æ¸ˆã¿ç”»åƒãŒå¿…è¦ãªæ–¹ã¯ã€å¾Œè¿°ã™ã‚‹flip,flopã®çµ„ã¿åˆã‚ã›ã§imagemagickã‚’ç”¨ã„ã¦å¤‰æ›ã™ã‚‹ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”¨æ„ã—ã¦ã„ã‚‹ã®ã§ã€ãã¡ã‚‰ã‚’ãŠä½¿ã„ãã ã•ã„ã€‚

## 3foldCV+Trainè‡ªå‹•åŒ–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
https://github.com/nat-chan/atmaCup11/blob/main/tmuxinator/fold0123.yml

åƒ•ã®å­¦ç¿’ãƒ»è©•ä¾¡ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒç‹¬è‡ªæ€§ãŒã‚ã‚‹ã¨æ€ã†ã®ã§ã¾ãšç´¹ä»‹ã•ã›ã¦ãã ã•ã„ã€‚

| 1åˆ—ç›®ã®è²¬å‹™ | 2åˆ—ç›®ã®è²¬å‹™ | 3åˆ—ç›®ã®è²¬å‹™ |
| --- | --- | ---- |
| `train`ã™ã‚‹| `loss`ã®ä¸‹ãŒã‚Šã‚’ç›£è¦– | `epochæ•°.pth`ãŒæ›¸ãå‡ºã•ã‚ŒãŸã‚‰`evaluate`ã™ã‚‹ |

|        |     | 
| --- | --- |
| 1è¡Œç›®ã®train/testãƒ‡ãƒ¼ã‚¿ | `3fold0` |
| 2è¡Œç›®ã®train/testãƒ‡ãƒ¼ã‚¿ | `3fold1` |
| 3è¡Œç›®ã®train/testãƒ‡ãƒ¼ã‚¿ | `3fold2` |
| 4è¡Œç›®ã®train/testãƒ‡ãƒ¼ã‚¿ | `all` |

![](https://i.imgur.com/qNgC7T1.gif)

`tmuxinator`ã‚’ä½¿ã£ãŸå‰²ã¨ç‰¹æ®Šãªæ–¹æ³•ã§ã™ãŒãªã‚“ã§ã‚„ã£ãŸã‹ãŠæ°—æŒã¡ã‚’è¿°ã¹ã¦ãŠãã¾ã™ã€‚

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">train1epochã”ã¨ã«evaluateã™ã‚‹ã‚³ãƒ¼ãƒ‰ã®æ–¹ãŒå¤šã„ã¨æ€ã†ã‚“ã ã‘ã©ã€ãƒ—ãƒ­ã‚»ã‚¹åˆ†ã‘ãŸããªã„ã§ã™ã‹â€¦ã€‚trainãŒæ­¢ã¾ã‚‹ã®ã¯æ­»ã‚“ã§ã‚‚é¿ã‘ãŸãã¦ã€ãƒ¢ãƒ‡ãƒ«ã®saveã‚’watchdogã—ã¦evaluateã—ãŸæ–¹ãŒãƒªã‚¹ã‚¯ãŒå°‘ãªã„ã—trainã¯é€Ÿãçµ‚ã‚ã‚‹ã¨ä¿¡ã˜ã¦ã‚‹ã€‚</p>&mdash; â„• (@mathbbN) <a href="https://twitter.com/mathbbN/status/1418214065411743750?ref_src=twsrc%5Etfw">July 22, 2021</a></blockquote> 


## ã‚„ã£ãŸå®Ÿé¨“

### Cross Validation ã®ã‚„ã‚Šæ–¹

[StratifiedGroupKFold](https://www.guruguru.science/competitions/17/discussions/593ddbfc-da15-4ba7-9482-7e89e0b99a96/)ã‚’3foldã§ã‚„ã‚Šã¾ã—ãŸã€‚

ãŸã ã—skleanã®å®Ÿè£…ã ã¨æ¬¡ã®ã‚ˆã†ã«æ•°ãŒ1ãšã‚Œã¦ã—ã¾ã„ã¾ã—ãŸã€‚

| train | test |
| ----- | ---- |
| 2624 | 1313 |
| 2625 | 1312 |
| 2625 | 1312 |

2624 = 2^5 Ã— 41 ã¨ éƒ½åˆãŒè‰¯ã„ã®ã§

- trainã¨testã«åŒã˜art_seriesãŒå…¥ã‚‰ãªã„ã‚ˆã†ã«åˆ†ã‘ã‚‹
- targetã®æ¯”ç‡ã‚’åˆã‚ã›ã‚‹

ã‚’å®ˆã‚ŠãªãŒã‚‰ä¸€ä¾‹ã ã‘trainã‹ã‚‰testã«ç§»ã£ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚

https://github.com/nat-chan/atmaCup11/blob/main/SGKFold.py

ã‹ãªã‚Šå³ã—ã„CVã‚’ã—ãŸã®ã§ã™ã¹ã¦ã®subãŒ

SG3FoldCV > PublicLB â‰’ PrivateLB

ã®ä¸ç­‰å¼ã‚’æº€ãŸã—ã¦ãŠã‚Šã€è‰¯ã„CVã‚’å›ã›ãŸãªã¨æº€è¶³ã—ã¦ã„ã¾ã™ã€‚

### ç”»åƒã®å‰å‡¦ç†

ä»Šå›ã®ã‚³ãƒ³ãƒšã¯ãƒ‡ãƒ¼ã‚¿æ•°ãŒå°‘ãªã™ãã‚‹ãªã¨æ„Ÿã˜ãŸã®ã§ã€flip,flop,rotateã®çµ„ã¿åˆã‚ã›ã§8å€ã«ãƒ‡ãƒ¼ã‚¿æ•°ã‚’å¢—ã‚„ã—ã¦ç”»åƒã‚’ä¿å­˜ã—ã¦ãŠãã¾ã—ãŸã€‚

https://github.com/nat-chan/atmaCup11/blob/main/preprocessing/hvr.sh

ä»¥é™ã€ã‚„ã‘ã«epochå°‘ãªã„ãªã¨æ„Ÿã˜ãŸã‚‰8å€æ›ç®—ã§ãŠè€ƒãˆä¸‹ã•ã„ã€‚

### BatchSizeã®é¸æŠ

![](https://i.imgur.com/KRwNNqJ.png)


ãƒ‡ã‚«ã‘ã‚Œã°ãƒ‡ã‚«ã„ã»ã©å­¦ç¿’ãŒé€Ÿãå›ã‚Šã¾ã™ãŒã€ãƒ‡ã‚«ã™ãã‚‹ã¨GPUã®ãƒ¡ãƒ¢ãƒªã«ä¹—ã‚Šåˆ‡ã‚‰ãªããªã£ãŸã‚Šã€æ€§èƒ½ãŒæ‚ªåŒ–ã—ã¾ã™ã€‚

å€ã€…ã«ã—ã¦èª¿ã¹ã¦è¡Œã£ã¦æœ€ã‚‚epoché–“ã®åˆ†æ•£ã®å°ã•ãã€5epochã§ã®RMSEã‚‚å°ã•ã„BatchSize=256ã‚’é¸æŠã—ã¾ã—ãŸã€‚ï¼ˆä»¥é™ã®å®Ÿé¨“ã¯ã™ã¹ã¦ã“ã‚Œã§å›ºå®šã€‚ï¼‰


### ResNet34 vs EfficientNetB0

![](https://i.imgur.com/qyfeV1U.png)

5epochç›®ã‚’ã¿ã¦ResNet34ã‚’é¸æŠã—ã¾ã—ãŸã€‚

### [3x3ã‚¸ã‚°ã‚¾ãƒ¼ãƒ‘ã‚ºãƒ«](https://www.guruguru.science/competitions/17/discussions/fe12e2a4-d6ba-47c7-b2eb-740c409fd2f9/)ã®Pretext taskã¯åŠ¹æœã‚ã‚‹ã®ã‹ï¼Ÿ
https://github.com/nat-chan/atmaCup11/blob/main/preprocessing/j3.py
https://github.com/nat-chan/atmaCup11/blob/main/data/atma11j4_dataset.py

![](https://i.imgur.com/VZBdLql.png)

ã‚ã£ã¡ã‚ƒåŠ¹æœã‚ã‚Šã¾ã—ãŸã€‚ä»¥é™ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ã«ã“ã®å­¦ç¿’æ¸ˆã¿é‡ã¿ã‚’ç”¨ã„ã¾ã™ã€‚

### è»¢ç§»å­¦ç¿’æ™‚ã«ã©ã®é‡ã¿ã‚’å›ºå®šorå‹•ã‹ã™ã¹ãã‹

![](https://i.imgur.com/sCyCXWD.png)


<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">ResNet34ã®è»¢ç§»å­¦ç¿’ã‚’ã™ã‚‹éš›ã€ç ´å£Šçš„å¿˜å´ã‚’é˜²ãã¹ãã€layer1,2,3,4ã®ã†ã¡ã€ãƒœãƒˆãƒ å´ã®layer3,4ã®ã¿require_grad=Trueã—ã¦å­¦ç¿’ã™ã‚‹å¯¾ç…§å®Ÿé¨“ã‚’ã™ã‚‹ã¹ãã ã£ãŸã€‚æœ€çµ‚æ—¥ã¯å‹¾é…ãƒ–ãƒ¼ã‚¹ãƒ†ã‚£ãƒ³ã‚°æœ¨ã§ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ã™ã‚‹ã¨æ±ºã‚ã¦ãŸã®ã§æ‰‹æˆ»ã‚Šã‚’é¿ã‘ãŸãŒã€‚1â†’2epochã®ã¿3foldCVãŒæ‚ªåŒ–ã—ã¦ã„ãŸã®ã§æœªç·´ãŒæ®‹ã‚‹ã€‚</p>&mdash; â„• (@mathbbN) <a href="https://twitter.com/mathbbN/status/1418581404456128516?ref_src=twsrc%5Etfw">July 23, 2021</a></blockquote> 

layer3,layer4,fcã®ã¿å‹•ã‹ã™å ´åˆã¯ã‚³ãƒ³ãƒšçµ‚äº†å¾Œã®å®Ÿé¨“çµæœã§ã™ã€‚

1epochç›®ã¯ã‚‚ã£ã¨ã‚‚ä½ã„RMSEãŒã§ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€5epochã¾ã§å›ã™ã¨ã™ã¹ã¦ã®é‡ã¿ã‚’å‹•ã‹ã—ãŸå ´åˆã«è² ã‘ã¦ã„ã¾ã—ãŸã€‚

ã‚„ã¯ã‚Šã€æœ€çµ‚çš„ã«ã‚¹ã‚¿ãƒƒã‚­ãƒ³ã‚°ã™ã‚‹éš›ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒãƒªã‚¢ãƒ³ã‚¹ãŒä¸ŠãŒã‚‹ã¨ã„ã†åˆ©ç‚¹ã‚‚ã‚ã‚‹ã®ã§ã€ã™ã¹ã¦ã®é‡ã¿ã‚’å‹•ã‹ã—ã¦è‰¯ã‹ã£ãŸã¨æ€ã„ã¾ã™ã€‚


### å‹¾é…ãƒ–ãƒ¼ã‚¹ãƒ†ã‚£ãƒ³ã‚°æœ¨ã«é£Ÿã‚ã›ã‚‹ç”¨ã®ã‚µãƒ–ã‚¿ã‚¹ã‚¯3ã¤

#### ä»Šã¾ã§ã¯ç”»åƒã‹ã‚‰targetã‚’å˜ç´”ã«äºˆæ¸¬ã™ã‚‹ã‚¿ã‚¹ã‚¯
https://github.com/nat-chan/atmaCup11/blob/main/data/atma11simple_dataset.py

ã§ã—ãŸãŒã€å¾Œã«å‹¾é…ãƒ–ãƒ¼ã‚¹ãƒ†ã‚£ãƒ³ã‚°æœ¨ã«ãƒ¢ãƒ‡ãƒ«ã®å‡ºåŠ›ã‚’é£Ÿã‚ã›ã¦ã‚¹ã‚¿ãƒƒã‚­ãƒ³ã‚°ï¼ˆã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ã®ä¸€ç¨®ï¼‰ã™ã‚‹ãŸã‚ã«ä»¥ä¸‹ã®3ã¤ã®ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã‚’å­¦ç¿’ã•ã›ã¾ã—ãŸã€‚

#### ç”»åƒã‹ã‚‰sortingdateã‚’äºˆæ¸¬ã™ã‚‹ã‚¿ã‚¹ã‚¯
https://github.com/nat-chan/atmaCup11/blob/main/data/atma11sortingdate_dataset.py
![](https://i.imgur.com/VD7IRuc.png)


#### ç”»åƒã‹ã‚‰targetã‚’onehotã§åˆ†é¡ã™ã‚‹ã‚¿ã‚¹ã‚¯
https://github.com/nat-chan/atmaCup11/blob/main/data/atma11onehot_dataset.py
![](https://i.imgur.com/6hw8Xxy.png)


#### ç”»åƒã‹ã‚‰word2vecåŸ‹ã‚è¾¼ã¿ã‚’äºˆæ¸¬ã™ã‚‹ã‚¿ã‚¹ã‚¯
- https://github.com/nat-chan/atmaCup11/blob/main/data/atma11materialstechniques_dataset.py
- https://github.com/nat-chan/atmaCup11/blob/main/word2vec.py
![](https://i.imgur.com/bfPFmxM.png)


## LightGBMã§ã‚¹ã‚¿ãƒƒã‚­ãƒ³ã‚°
https://github.com/nat-chan/atmaCup11/blob/main/ensemble.ipynb
ã“ã‚Œã‚‰4ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®å‡ºåŠ›ã‚’ç‰¹å¾´é‡ã¨ã—ã¦å‹¾é…ãƒ–ãƒ¼ã‚¹ãƒ†ã‚£ãƒ³ã‚°æœ¨ã‚’å­¦ç¿’ã—ã¾ã—ãŸã€‚(ãªãŠã€GPUæ™‚é–“ãŒä½™ã£ã¦ã„ãŸã®ã§10epochã¾ã§å­¦ç¿’ã—ã¨ãã¾ã—ãŸã€‚)

flip,flop,rotateã§ãƒ‡ãƒ¼ã‚¿æ•°ã‚’8å€ã«ã—ã¦ã‚ã‚‹ã®ã§ç‰¹å¾´é‡ã‹ã•ã¾ã—ã«mean,var,max,minã‚’ä½¿ã„ã¾ã—ãŸã€‚meanã®å ´åˆã¯Test Time Augmentationã¨ä¸€è‡´ã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚

- onehotã®targetã®äºˆæ¸¬ãŒ0.94ã‚’è¶…ãˆã¦ã„ãŸã‚‰å¼·åˆ¶çš„ã«ãã®å¹´ä»£ã«ã™ã‚‹ã€‚
- ã‚¹ã‚¿ãƒƒã‚­ãƒ³ã‚°çµæœã¨æœ¬æ¥ã®targetäºˆæ¸¬å€¤ã‚’0.5ã®æ¯”ç‡ã§æ··ãœåˆã‚ã›ã‚‹ã€‚

ã“ã®2ã¤ã®å¾Œå‡¦ç†ã®ãƒã‚¤ãƒ‘ãƒ©ã‚‚3foldCVã§æ‰‹ã§2åˆ†æ¢ç´¢ã§æœ€é©åŒ–ã—ã¦ã€ä¸€ç•ªCVè‰¯ã‹ã£ãŸã®ã¨publicLBãŒè‰¯ã‹ã£ãŸ2ã¤ã‚’æœ€çµ‚submitionã¨ãªã‚Šã¾ã—ãŸã€‚

## ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ (Submissionã‚¹ã‚³ã‚¢ã‚‚ã“ã“ã«æ›¸ãã¾ã—ãŸ)

### 6æœˆ22æ—¥ï¼ˆæœ€çµ‚æ—¥ï¼‰

| diff | ã‚³ãƒ¡ãƒ³ãƒˆ | SG3FoldCV | PublicLB | PrivateLB |
| --- | --- | --- | --- | --- |
| [ffc7200](https://github.com/nat-chan/atmaCup11/commit/ffc7200) | ä½™è¨ˆãªã‚»ãƒ«ã‚’æ¶ˆã—ãŸ |
| [afc7f28](https://github.com/nat-chan/atmaCup11/commit/afc7f28) | ã„ã„ã‹ã‚“ã˜ | **0.7174** | 0.6857 | 0.6754 |
| [73d5129](https://github.com/nat-chan/atmaCup11/commit/73d5129) | åŒæœŸã‚’ã¨ã‚‹ |
| [a202e4d](https://github.com/nat-chan/atmaCup11/commit/a202e4d) | ã¨ã‚Šã‚ãˆãšj4è¶³ã—ãŸã‚‰æ‚ªããªã£ãŸï¼Ÿ |
| [3933451](https://github.com/nat-chan/atmaCup11/commit/3933451) | ã„ã„æ„Ÿã˜ã«ãªã£ã¦ããŸ | 0.7180 | 0.6844 | **0.6748** |
| [bcf528c](https://github.com/nat-chan/atmaCup11/commit/bcf528c) | è‰¯ã•ã’ãªãƒ‘ãƒ©ãƒ¡ã‚¿å¼•ã£å¼µã£ã¦ããŸ |
| [0203137](https://github.com/nat-chan/atmaCup11/commit/0203137) | lru_chacheã—ã¦ç„¡é§„ã«IOã—ãªã„ |
| [5e0e053](https://github.com/nat-chan/atmaCup11/commit/5e0e053) | pklã‚ˆã‚ãŸ |
| [50f7eb2](https://github.com/nat-chan/atmaCup11/commit/50f7eb2) | ã‚ˆã‚ã‚‹ |

### 6æœˆ21æ—¥

| diff | ã‚³ãƒ¡ãƒ³ãƒˆ | SG3FoldCV | PublicLB | PrivateLB |
| --- | --- | -- | -- | -- |
| [195e456](https://github.com/nat-chan/atmaCup11/commit/195e456) | ã•ã£ãã¾ã§èª­ã‚ã¦ãŸã®ã«ãªãœã‹èª­ã‚ãªã„ãªã‚“ã§ï¼Ÿ |
| [e1fdd76](https://github.com/nat-chan/atmaCup11/commit/e1fdd76) | ã‚„ã£ã±ã‚Šnotebookã§æ¯”è¼ƒ |
| [6913b88](https://github.com/nat-chan/atmaCup11/commit/6913b88) | epochã§ã®CVã‚’è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ |
| [3852675](https://github.com/nat-chan/atmaCup11/commit/3852675) | evalã‚’gpu4567ã§ã‚‚ã§ãã‚‹ã‚ˆã†ã« |
| [c5c6417](https://github.com/nat-chan/atmaCup11/commit/c5c6417) | ensembleã®é€”ä¸­ |
| [38ff3d8](https://github.com/nat-chan/atmaCup11/commit/38ff3d8) | epoch=conf2ã®featureã‚’pickleã§dump |
| [d15ea47](https://github.com/nat-chan/atmaCup11/commit/d15ea47) | Merge branch 'main' of github.com:nat-chan/atmaCup11 into  main |
| [03c4287](https://github.com/nat-chan/atmaCup11/commit/03c4287) | epoch10ã§3foldã‚‚trainã‚’evalã™ã‚‹ |
| [fdff7d5](https://github.com/nat-chan/atmaCup11/commit/fdff7d5) | ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ç”¨ã«ä¾å­˜ã‚’è¿½åŠ  |
| [007680d](https://github.com/nat-chan/atmaCup11/commit/007680d) | j4e5ã®epoch5æ™‚ç‚¹ã§ã®subåŠã³CVã‚’ä½œæˆ **5epochã‹ã‚‰ã®è»¢ç§»å­¦ç¿’**| 0.7346 | 0.6947 | 0.6835 |
| [0d7a725](https://github.com/nat-chan/atmaCup11/commit/0d7a725) | materialsã¨techniquesã‚’wv2vã‚’ã§20ã«ã™ã‚‹dataset,parameter |
| [dcf5640](https://github.com/nat-chan/atmaCup11/commit/dcf5640) | j4e5ã®ãƒ‘ãƒ©ãƒ¡ã‚¿è¿½åŠ ã€5epochã¾ã§å›ã—ã¦1epochã¨æ¯”è¼ƒã™ã‚‹ |
| [8b56a3c](https://github.com/nat-chan/atmaCup11/commit/8b56a3c) | 6ã‹ã‚‰10epochã¾ã§å­¦ç¿’ã‚’resumeã™ã‚‹ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ |
| [7d1b6ef](https://github.com/nat-chan/atmaCup11/commit/7d1b6ef) | è©¦ã—ã«submittion.csvã‚’ä½œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã€‚**1epochã‹ã‚‰ã®è»¢ç§»å­¦ç¿’å®Œäº†** | 0.7474 | 0.7114 | 0.6989 |
| [79fbc85](https://github.com/nat-chan/atmaCup11/commit/79fbc85) | sortingdateã‚’ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã¨ãƒ‘ãƒ©ãƒ¡ã‚¿ã€5epochã˜ã‚ƒè¶³ã‚Šãªã„ã‹ã‚‚ |
| [bef8008](https://github.com/nat-chan/atmaCup11/commit/bef8008) | targetã‚’onehot vectorã§æ¯”è¼ƒã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ |
| [d6731b8](https://github.com/nat-chan/atmaCup11/commit/d6731b8) | è»¢ç§»å­¦ç¿’ãŸã ã—æœ€çµ‚å±¤ã®ã¿å‹•ã‹ã™ã¯ã†ã¾ãè¡Œã‹ãªã„ |
| [992523f](https://github.com/nat-chan/atmaCup11/commit/992523f) | EfficentNetB0ã‚’è©¦ã—ãŸãŒã‚ã‚“ã¾è‰¯ããªã„ |
| [8034bbf](https://github.com/nat-chan/atmaCup11/commit/8034bbf) | j4ã®resumeã€5epochã¾ã§å›ã™ |
| [9cfe196](https://github.com/nat-chan/atmaCup11/commit/9cfe196) | 3foldã¨trainã‚’ä¸¦è¡Œã—ã¦4gpuã§å›ã™ãŸã‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ |
| [5cf72a0](https://github.com/nat-chan/atmaCup11/commit/5cf72a0) | CVå¯è¦–åŒ–ã¯pyã§ç®¡ç† |
| [ddd848f](https://github.com/nat-chan/atmaCup11/commit/ddd848f) | 3foldã¨trainã‚’4ã¤ã®gpuã§ä¸¦è¡Œã—ã¦ã¾ã‚ã™ |
| [6139111](https://github.com/nat-chan/atmaCup11/commit/6139111) | out_featuresãŒè¤‡æ•°ã®æ™‚ã«å¯¾å¿œ |

### 6æœˆ20æ—¥

| diff | ã‚³ãƒ¡ãƒ³ãƒˆ |
| --- | --- |
| [adb1bd5](https://github.com/nat-chan/atmaCup11/commit/adb1bd5) | ã‚‚ã†ãœã‚“ã¶ãªã‚“ã ã‚ˆã€5iterã§ååˆ†j4nofreezeã®ãŒå„ªç§€ |
| [9dbb56d](https://github.com/nat-chan/atmaCup11/commit/9dbb56d) | j3é€”ä¸­ã¾ã§ã¨j4ã®nofreezeã§ã®æ¯”è¼ƒ **äº‹å‰å­¦ç¿’ã®3x3ã‚¸ã‚°ã‚½ãƒ¼ãƒ‘ã‚ºãƒ«ãŒå®Œäº†**|
| [1d1b8bc](https://github.com/nat-chan/atmaCup11/commit/1d1b8bc) | RMSEã¨featureã‚’train,testä¸¡æ–¹æ›¸ãå‡ºã™ã®ã«åˆã‚ã›ã¦ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å¤‰æ›´ã—ãŸ |
| [f00c53a](https://github.com/nat-chan/atmaCup11/commit/f00c53a) | çµå±€ä½¿ã‚ãªã‹ã£ãŸ |
| [865768b](https://github.com/nat-chan/atmaCup11/commit/865768b) | 3æ™‚é–“ã§1epochçµ‚ã‚ã‚‹j4ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’è¿½åŠ ã€ä¾å­˜ã®æ•´ç† |
| [523073b](https://github.com/nat-chan/atmaCup11/commit/523073b) | å­¦ç¿’æ­¢ã¾ã£ã¦ã¦ã‚·ãƒ§ãƒƒã‚¯ã€parameterã‚’transfer_weightsã—ãŸã‚‰ç¶™ç¶šã§ããŸã€‚netEã¨netDã®ä¾å­˜ã‚’åˆ‡ã‚‹ |

### 6æœˆ19æ—¥

| diff | ã‚³ãƒ¡ãƒ³ãƒˆ |
| --- | --- |
| [c28b7ae](https://github.com/nat-chan/atmaCup11/commit/c28b7ae) | resnet32model,simple,j3, 3-flod, validateã®å®Ÿè£… |
| [4cd4b75](https://github.com/nat-chan/atmaCup11/commit/4cd4b75) | netGã‚’ResNetã«ã™ã‚‹ã“ã¨ã§trainãŒå‹•ã„ãŸã€multi | GPUã‚‚ã°ã£ã¡ã‚Š |

### 6æœˆ18æ—¥

| diff | ã‚³ãƒ¡ãƒ³ãƒˆ |
| --- | --- |
| [e023943](https://github.com/nat-chan/atmaCup11/commit/e023943) | å„epochã”ã¨ã«datasetã‚’GPUã«é…ã‚‹å‰ã«deterministicã«shuffleã—ã¦ä»–ã®ç–‘ä¼¼ä¹±æ•°ç”Ÿæˆã«ã¯å½±éŸ¿ã‚’ä¸ãˆãªã„ |
| [621890d](https://github.com/nat-chan/atmaCup11/commit/621890d) | make_deterministic |
| [0bedc38](https://github.com/nat-chan/atmaCup11/commit/0bedc38) | atma11simple_datasetãŒdry-runã§ãã‚‹ã“ã¨ã‚’ç¢ºã‹ã‚ãŸ |
| [9e80052](https://github.com/nat-chan/atmaCup11/commit/9e80052) | vscodeã®mypyã‚„debugç­‰ã®è¨­å®š |
| [c1222e2](https://github.com/nat-chan/atmaCup11/commit/c1222e2) | triviaãªå¤‰æ›´ |

### 6æœˆ17æ—¥

| diff | ã‚³ãƒ¡ãƒ³ãƒˆ |
| --- | --- |
| [4364703](https://github.com/nat-chan/atmaCup11/commit/4364703) | 3foldã§trainã®é•·ã•ãŒbatchsize64ã®å€æ•°ã«ãªã‚‹ã‚ˆã†ã«èª¿æ•´ |
| [ad02361](https://github.com/nat-chan/atmaCup11/commit/ad02361) | ã©ã£ã¡ã¿ã¡optã§æŒ‡å®šã™ã‚‹ã“ã¨ã«ãªã‚‹ã‹ã‚‰dataãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®è¡çªã‚’é¿ã‘ã¦symlinkè²¼ã‚‹ã®ã‚’è¾ã‚ãŸ |

### 6æœˆ16æ—¥

| diff | ã‚³ãƒ¡ãƒ³ãƒˆ |
| --- | --- |
| [eeae68c](https://github.com/nat-chan/atmaCup11/commit/eeae68c) | dataã‚’.gitignoreã™ã‚‹ |
| [1c00551](https://github.com/nat-chan/atmaCup11/commit/1c00551) | å‰å‡¦ç†scriptã‚’preprocessingã«ç§»å‹•ã€ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆãŒå‹•ãã®ã‚’ç¢ºã‹ã‚ãŸ |

### 6æœˆ14æ—¥

| diff | ã‚³ãƒ¡ãƒ³ãƒˆ |
| --- | --- |
| [41ec383](https://github.com/nat-chan/atmaCup11/commit/41ec383) | è¬›åº§2ã®CamGRADè¿½åŠ  |
| [23c2e56](https://github.com/nat-chan/atmaCup11/commit/23c2e56) | seabornã¨ã‹torchsummaryã¨ã‹è¶³ã—ãŸ |
| [3a95e43](https://github.com/nat-chan/atmaCup11/commit/3a95e43) | SimSiamç”¨ã®lightlyã‚’dependenciesã«è¿½åŠ ã—ãŸ |

### 6æœˆ13æ—¥

| diff | ã‚³ãƒ¡ãƒ³ãƒˆ |
| --- | --- |
| [8bd6d09](https://github.com/nat-chan/atmaCup11/commit/8bd6d09) | ç ”ç©¶ã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ç§»æ¤ã§ãã‚‹ã‚ˆã†ã«ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å¢—ã‚„ã—ãŸã€‚seabornç­‰ã€discussionã®ã‚³ãƒ¼ãƒ‰ãŒå‹•ãã‚ˆã†ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å¢—ã‚„ã—ãŸã€‚ |
| [e4a3d83](https://github.com/nat-chan/atmaCup11/commit/e4a3d83) | StratifiedGroupKFoldã‚’ç†è§£ã—ãŸã€ã“ã‚Œã‹ã‚‰art_series_ã‚’groupã«ã—ã§åˆ†å‰²ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ |

### 6æœˆ12æ—¥

| diff | ã‚³ãƒ¡ãƒ³ãƒˆ |
| --- | --- |
| [22ae03f](https://github.com/nat-chan/atmaCup11/commit/22ae03f) | word2vecã§åŸ‹ã‚è¾¼ã¿è¡¨ç¾å¾—ã‚‰ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª |
| [9e10738](https://github.com/nat-chan/atmaCup11/commit/9e10738) | StratifiedGroupKFoldãŒä½¿ãˆã‚‹nightly sklearnã¨1.9ã®æœ€æ–°pytorch |

### 6æœˆ10æ—¥

| diff | ã‚³ãƒ¡ãƒ³ãƒˆ |
| --- | --- |
| [b886438](https://github.com/nat-chan/atmaCup11/commit/b886438) | lightlyã‚ˆã•ã’ã ã‘ã©pytorchã«ä¾å­˜ã—ã¦ã‚‹ã®ã§ã¡ã‚ƒã‚“ã¨environment.ymlæ›¸ã‹ãªãã‚ƒã ã‚ãã† |
| [694de56](https://github.com/nat-chan/atmaCup11/commit/694de56) | Initial | commit |

## ãµã‚Šã‹ãˆã‚Š

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">åˆæœŸã«å®Ÿè£…ã—ãŸãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¯3foldCVãŒä¸‹ã«ã‚µãƒã‚‹5epochã¾ã§4ã‚¿ã‚¹ã‚¯ã®ä¸¦åˆ—å­¦ç¿’ãƒ»è©•ä¾¡ã«4æ™‚é–“ã‹ã‹ã‚‹ã€‚ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ã®ãƒã‚¤ãƒ‘ãƒ©ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ãŒçµ‚ã‚ã£ã¦æœ€çµ‚subãŒã§ããŸæ™‚ç‚¹ã§ã‚³ãƒ³ãƒšçµ‚äº†ã¾ã§10æ™‚é–“ã‚ã£ãŸã‹ã‚‰ã€æ‰‹æˆ»ã‚Šã‚’æã‚Œãšã€å­¦ç¿’ã—ç›´ã›ã°ã€é–“ã«åˆã£ãŸç­ˆã€æ•¢é—˜è³ç›®æŒ‡ã›ãŸã®ã§ã¯ãªã„ã‹ã¨ã„ã†æœªç·´ãŒã‚ã‚‹ã€‚</p>&mdash; â„• (@mathbbN) <a href="https://twitter.com/mathbbN/status/1418583008739692547?ref_src=twsrc%5Etfw">July 23, 2021</a></blockquote>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">ResNet34ã®è»¢ç§»å­¦ç¿’ã‚’ã™ã‚‹éš›ã€ç ´å£Šçš„å¿˜å´ã‚’é˜²ãã¹ãã€layer1,2,3,4ã®ã†ã¡ã€ãƒœãƒˆãƒ å´ã®layer3,4ã®ã¿require_grad=Trueã—ã¦å­¦ç¿’ã™ã‚‹å¯¾ç…§å®Ÿé¨“ã‚’ã™ã‚‹ã¹ãã ã£ãŸã€‚æœ€çµ‚æ—¥ã¯å‹¾é…ãƒ–ãƒ¼ã‚¹ãƒ†ã‚£ãƒ³ã‚°æœ¨ã§ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ã™ã‚‹ã¨æ±ºã‚ã¦ãŸã®ã§æ‰‹æˆ»ã‚Šã‚’é¿ã‘ãŸãŒã€‚1â†’2epochã®ã¿3foldCVãŒæ‚ªåŒ–ã—ã¦ã„ãŸã®ã§æœªç·´ãŒæ®‹ã‚‹ã€‚</p>&mdash; â„• (@mathbbN) <a href="https://twitter.com/mathbbN/status/1418581404456128516?ref_src=twsrc%5Etfw">July 23, 2021</a></blockquote>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">ä»Šå›ã®ã‚³ãƒ³ãƒšã‚‚trainæ™‚ã®lossã®ä¸‹ãŒã‚Šæ–¹ã®ç®¡ç†ã‚’è‡ªå‰å®Ÿè£…ã—ã¦ã„ã¦ã€wandbä½¿ã£ã¨ãã‚ƒè‰¯ã‹ã£ãŸãªã¨ãªã‚Šã€‚å®Ÿè£…é‡ãŒå°‘ãªããªã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯æ˜¯éã¨ã‚‚ä½¿ã„ãŸã„ãŒã€ã—ã‹ã—ãªãŒã‚‰hydraãã‚‰ã„Fatãªframeworkã ã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãƒ»å®Ÿé¨“ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ç›¸æ‰‹å´ã«åˆã‚ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã€åƒ•ã®å¥½ã¿ã˜ã‚ƒãªã„ã€‚</p>&mdash; â„• (@mathbbN) <a href="https://twitter.com/mathbbN/status/1418579194880004105?ref_src=twsrc%5Etfw">July 23, 2021</a></blockquote>


<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">csvã‚’pd.DataFrameã§æ‰±ã†ã®ãŒå®šçŸ³ãªã®ã ã‚ã†ãŒã€ç‰¹å¾´é‡ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã™ã‚‹ã«ã‚ãŸã£ã¦modelã®å‡ºåŠ›ã‚’idã‚’keyã¨ã™ã‚‹DefaultDict[str, List[np.ndarray]]ã«appendã—ã¦ã„ã£ã¦pickleã§ä¿å­˜ã—ã¦ã—ã¾ã†ã®ãŒä¸€ç•ªå–ã‚Šæ‰±ã„å®‰ã‹ã£ãŸãªâ€¦</p>&mdash; â„• (@mathbbN) <a href="https://twitter.com/mathbbN/status/1418195514944757764?ref_src=twsrc%5Etfw">July 22, 2021</a></blockquote> 

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">å®Ÿé¨“ã®çµæœã¨ã‹ãƒ¢ãƒ‡ãƒ«ã®é‡ã¿ã¨ã‹å…¨éƒ¨zipã—ã¦ç„¡é™å®¹é‡ã®GoogleDriveã«æŠ•ã’ã¦ã‚‹ã‚“ã ã‘ã©gdriveã£ã¦å¥´ãŒã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å©ãã ã‘ã§ä¾¿åˆ©ã ã£ãŸã€‚conda install -c conda-forge gdriveã§å…¥ã‚‹ã€‚</p>&mdash; â„• (@mathbbN) <a href="https://twitter.com/mathbbN/status/1418463034796765192?ref_src=twsrc%5Etfw">July 23, 2021</a></blockquote>

P.S. `gdrive`ã¯ä½¿ãˆãªããªã£ãŸã®ã§`rclone`ãŒãŠã™ã™ã‚ã§ã™ã€‚
